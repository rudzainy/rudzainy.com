function SineWaveGenerator(e){if($.extend(this,e||{}),!this.el)throw"No Canvas Selected";if(this.ctx=this.el.getContext("2d"),!this.waves.length)throw"No waves specified";this._resizeWidth(),window.addEventListener("resize",this._resizeWidth.bind(this)),this.resizeEvent(),window.addEventListener("resize",this.resizeEvent.bind(this)),"function"==typeof this.initialize&&this.initialize.call(this),this.loop()}SineWaveGenerator.prototype.speed=10,SineWaveGenerator.prototype.amplitude=50,SineWaveGenerator.prototype.wavelength=50,SineWaveGenerator.prototype.segmentLength=10,SineWaveGenerator.prototype.lineWidth=2,SineWaveGenerator.prototype.strokeStyle="rgba(255, 255, 255, 0.2)",SineWaveGenerator.prototype.resizeEvent=function(){},SineWaveGenerator.prototype._resizeWidth=function(){this.dpr=window.devicePixelRatio||1,this.width=this.el.width=window.innerWidth*this.dpr,this.height=this.el.height=window.innerHeight*this.dpr,this.el.style.width="98vw",this.el.style.height="375px",this.waveWidth=.95*this.width,this.waveLeft=.025*this.width},SineWaveGenerator.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},SineWaveGenerator.prototype.time=0,SineWaveGenerator.prototype.update=function(e){this.time=this.time-.007,void 0===e&&(e=this.time);for(var t=-1,i=this.waves.length;++t<i;){var n=this.waves[t].timeModifier||1;this.drawSine(e*n,this.waves[t])}t=void 0,i=void 0};var PI2=2*Math.PI,HALFPI=Math.PI/2;SineWaveGenerator.prototype.ease=function(e,t){return t*(Math.sin(e*PI2-HALFPI)+1)*.5},SineWaveGenerator.prototype.drawSine=function(e,t){t=t||{},amplitude=t.amplitude||this.amplitude,wavelength=t.wavelength||this.wavelength,lineWidth=t.lineWidth||this.lineWidth,strokeStyle=t.strokeStyle||this.strokeStyle,segmentLength=t.segmentLength||this.segmentLength;var i=e,n=0,h=this.amplitude,o=this.height/2;this.ctx.lineWidth=lineWidth*this.dpr,this.ctx.strokeStyle=strokeStyle,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.moveTo(0,o),this.ctx.lineTo(this.waveLeft,o);for(var s=0;s<this.waveWidth;s+=segmentLength)i=e*this.speed+(-o+s)/wavelength,n=Math.sin(i),h=this.ease(s/this.waveWidth,amplitude),this.ctx.lineTo(s+this.waveLeft,h*n+o),h=void 0;this.ctx.lineTo(this.width,o),this.ctx.stroke(),t=void 0,amplitude=void 0,wavelength=void 0,lineWidth=void 0,strokeStyle=void 0,segmentLength=void 0,i=void 0,n=void 0},SineWaveGenerator.prototype.loop=function(){this.clear(),this.update(),window.requestAnimationFrame(this.loop.bind(this))},new SineWaveGenerator({el:document.getElementById("waves"),speed:8,waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,i=this.waves.length;++t<i;)this.waves[t].strokeStyle=e;t=void 0,i=void 0,e=void 0}});